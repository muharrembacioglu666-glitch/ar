<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>Oyun Portalƒ± v1.8.4</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap');

        :root {
            --primary-yellow: #ffcc00;
            --bg-dark: #121212;
            --card-bg: #1e1e1e;
            --accent-blue: #2196F3;
        }

        body {
            margin: 0;
            background-color: var(--bg-dark);
            color: #fff;
            font-family: 'Poppins', sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* HEADER */
        header {
            width: 100%;
            padding: 20px 50px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-sizing: border-box;
            background: #1a1a1a;
            border-bottom: 2px solid #333;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .logo {
            font-size: 24px;
            font-weight: 800;
            color: var(--primary-yellow);
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
        }

        .nav-links {
            display: flex;
            gap: 30px;
            font-size: 14px;
            color: #aaa;
        }

        .nav-links span {
            cursor: pointer;
            transition: color 0.3s;
            font-weight: 600;
        }

        .nav-links span:hover, .nav-links span.active {
            color: var(--primary-yellow);
        }

        /* D√ñNEN RENKLƒ∞ S√úR√úM ROZETƒ∞ */
        .version-wrapper {
            position: relative;
            padding: 2px;
            border-radius: 20px;
            overflow: hidden;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .version-wrapper::before {
            content: '';
            position: absolute;
            top: -50%; left: -50%;
            width: 200%; height: 200%;
            background: conic-gradient(#ff0000, #ff7f00, #ffff00, #00ff00, #0000ff, #4b0082, #8f00ff, #ff0000);
            animation: rotateBorder 2s linear infinite;
        }

        @keyframes rotateBorder { 100% { transform: rotate(360deg); } }

        .version-badge {
            position: relative;
            background: #000;
            padding: 5px 15px;
            border-radius: 18px;
            font-size: 12px;
            font-weight: bold;
            color: #fff;
            z-index: 1;
        }

        /* ANA SAYFA (HOME) SCREEN */
        #home-screen {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 100px 20px;
            animation: fadeIn 0.8s ease-out;
        }

        .hero-title {
            font-size: 64px;
            font-weight: 800;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #ffcc00, #ff8800);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .hero-subtitle {
            font-size: 20px;
            color: #888;
            max-width: 600px;
            margin-bottom: 40px;
        }

        .cta-button {
            background: var(--primary-yellow);
            color: #000;
            padding: 15px 40px;
            border-radius: 30px;
            font-weight: 800;
            text-transform: uppercase;
            cursor: pointer;
            border: none;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .cta-button:hover {
            transform: scale(1.1);
            box-shadow: 0 0 20px rgba(255, 204, 0, 0.4);
        }

        /* OYUNLAR (MENU) SCREEN */
        #menu-screen {
            display: none;
            text-align: center;
            padding: 50px 20px;
            animation: fadeIn 0.5s;
        }

        .games-grid {
            display: flex;
            gap: 25px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 40px;
        }

        .game-card {
            background: var(--card-bg);
            border: 1px solid #333;
            border-radius: 20px;
            width: 280px;
            padding: 40px 20px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .game-card:hover {
            transform: translateY(-10px);
            border-color: var(--primary-yellow);
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        /* OYUN ALANI */
        #game-container {
            display: none;
            flex-direction: column;
            align-items: center;
            margin-top: 20px;
            width: 100%;
        }

        /* Dƒ∞ƒûER STƒ∞LLER (AYNI KALDI) */
        canvas { background: #000; border: 2px solid #333; box-shadow: 0 0 20px rgba(0,0,0,0.5); }
        .back-btn { background: #333; border: none; color: white; padding: 10px 20px; border-radius: 8px; cursor: pointer; }
        .back-btn:hover { background: #444; }
        .modal-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 200; justify-content: center; align-items: center; backdrop-filter: blur(5px); }
        .modal-content { background: #1a1a1a; width: 500px; max-height: 80vh; border-radius: 15px; padding: 30px; overflow-y: auto; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        #game-over-screen { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(0, 0, 0, 0.95); padding: 40px; border-radius: 15px; text-align: center; display: none; border: 2px solid var(--primary-yellow); z-index: 50; }
        .restart-btn { background: var(--accent-blue); color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin-top: 15px; }
    </style>
</head>
<body>

    <header>
        <div class="logo" onclick="showSection('home')">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#ffcc00" stroke-width="2"><rect x="2" y="6" width="20" height="12" rx="2"></rect><path d="M6 12h4m-2-2v4"></path></svg>
            PORTAL
        </div>
        <div class="nav-links">
            <span id="nav-home" class="active" onclick="showSection('home')">Anasayfa</span>
            <span id="nav-games" onclick="showSection('games')">Oyunlar</span>
            <span>Filmler</span>
            <span>Dersler</span>
        </div>
        <div class="version-wrapper" onclick="openChangelog()">
            <div class="version-badge">v1.8.4</div>
        </div>
    </header>

    <main id="home-screen">
        <h1 class="hero-title">Eƒülence Ba≈ülƒ±yor</h1>
        <p class="hero-subtitle">En pop√ºler arcade oyunlarƒ±nƒ± tek bir yerden ke≈üfet. Rekorlarƒ±nƒ± geli≈ütir ve vaktini en iyi ≈üekilde deƒüerlendir.</p>
        <button class="cta-button" onclick="showSection('games')">Oyunlarƒ± Ke≈üfet</button>
    </main>

    <section id="menu-screen">
        <h2 style="font-size: 32px;">Oyun K√ºt√ºphanesi</h2>
        <div class="games-grid">
            <div class="game-card" onclick="startGame('snake')">
                <div style="font-size: 40px; margin-bottom: 15px;">üêç</div>
                <div style="font-weight: 800; font-size: 20px;">Yƒ±lan Oyunu</div>
                <p style="color: #777; font-size: 13px;">Klasik deneyim, yeni kafa tasarƒ±mƒ±.</p>
            </div>
            <div class="game-card" onclick="startGame('tetris')">
                <div style="font-size: 40px; margin-bottom: 15px;">üß±</div>
                <div style="font-weight: 800; font-size: 20px;">Tetris</div>
                <p style="color: #777; font-size: 13px;">Bloklarƒ± yerle≈ütir, puanlarƒ± topla.</p>
            </div>
            <div class="game-card" onclick="startGame('pacman')">
                <div style="font-size: 40px; margin-bottom: 15px;">üçï</div>
                <div style="font-weight: 800; font-size: 20px;">Pac-Man</div>
                <p style="color: #777; font-size: 13px;">Hayaletten ka√ß, t√ºm yemleri ye.</p>
            </div>
        </div>
    </section>

    <section id="game-container">
        <div style="display: flex; justify-content: space-between; width: 600px; margin-bottom: 15px; align-items: center;">
            <button class="back-btn" onclick="showSection('games')">‚Üê Geri D√∂n</button>
            <div id="score-display" style="font-weight:bold; color:var(--primary-yellow); font-size:20px;">SKOR: 0</div>
        </div>
        <div style="position: relative;">
            <canvas id="gameCanvas"></canvas>
            <div id="game-over-screen">
                <div style="color: #ff4444; font-size: 32px; font-weight: bold; margin-bottom: 10px;">OYUN Bƒ∞TTƒ∞</div>
                <div id="final-score" style="font-size: 24px;">Skor: 0</div>
                <button class="restart-btn" onclick="restartGame()">Tekrar Dene</button>
            </div>
        </div>
    </section>

    <div id="changelog-modal" class="modal-overlay">
        <div class="modal-content">
            <button style="float:right; background:none; border:none; color:#888; font-size:24px; cursor:pointer;" onclick="closeChangelog()">√ó</button>
            <h3 style="margin-top:0">S√ºr√ºm Ge√ßmi≈üi</h3>
            <div style="margin-bottom: 20px;">
                <b style="color:var(--primary-yellow)">v1.8.4 (Yeni)</b>
                <ul style="font-size: 13px; color:#ccc; padding-left:20px;">
                    <li>Anasayfa (Hero Section) eklendi.</li>
                    <li>Men√º ge√ßi≈ü sistemi (SPA mantƒ±ƒüƒ±) optimize edildi.</li>
                </ul>
            </div>
            <div>
                <b style="color:var(--primary-yellow)">v1.8.3</b>
                <ul style="font-size: 13px; color:#ccc; padding-left:20px;">
                    <li>Yƒ±lanƒ±n kafasƒ±na g√∂zler ve y√∂n duyarlƒ±lƒ±ƒüƒ± eklendi.</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const screens = {
            home: document.getElementById('home-screen'),
            games: document.getElementById('menu-screen'),
            playing: document.getElementById('game-container')
        };
        const navs = {
            home: document.getElementById('nav-home'),
            games: document.getElementById('nav-games')
        };

        let activeGame = null;
        let gameInterval = null;
        let score = 0;
        let isGameOver = false;

        // B√ñL√úM GE√áƒ∞≈û FONKSƒ∞YONU
        function showSection(target) {
            // T√ºm ekranlarƒ± gizle
            Object.values(screens).forEach(s => s.style.display = 'none');
            // Aktif nav class'larƒ±nƒ± temizle
            Object.values(navs).forEach(n => n.classList.remove('active'));
            
            if(gameInterval) clearInterval(gameInterval);

            if(target === 'home') {
                screens.home.style.display = 'flex';
                navs.home.classList.add('active');
            } else if(target === 'games') {
                screens.games.style.display = 'block';
                navs.games.classList.add('active');
            }
        }

        function startGame(type) {
            Object.values(screens).forEach(s => s.style.display = 'none');
            screens.playing.style.display = 'flex';
            
            activeGame = type;
            isGameOver = false;
            document.getElementById('game-over-screen').style.display = 'none';
            score = 0;
            updateScore(0);
            
            document.onkeydown = handleInput;

            if(type === 'snake') initSnake();
            if(type === 'tetris') initTetris();
            if(type === 'pacman') initPacman();
        }

        function updateScore(val) {
            score = val;
            document.getElementById('score-display').innerText = `SKOR: ${score}`;
        }

        function showGameOver(text) {
            clearInterval(gameInterval);
            isGameOver = true;
            document.getElementById('final-score').innerText = `Skor: ${score}`;
            document.getElementById('game-over-screen').style.display = 'block';
        }

        function restartGame() { startGame(activeGame); }

        function handleInput(e) {
            if(isGameOver) return;
            if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(e.code)) e.preventDefault();
            if(activeGame === 'snake') handleSnakeInput(e);
            if(activeGame === 'tetris') handleTetrisInput(e);
            if(activeGame === 'pacman') handlePacmanInput(e);
        }

        // --- YILAN OYUNU MANTIƒûI (v1.8.3'teki kafa tasarƒ±mƒ± korunuyor) ---
        let snake=[], apple={}, snakeDir={}, nextSnakeDir={};
        const sGrid=25, sCols=24, sRows=24;

        function initSnake() {
            canvas.width = 600; canvas.height = 600;
            snake = [{x:10,y:10}, {x:9,y:10}, {x:8,y:10}];
            snakeDir = {x:1, y:0}; nextSnakeDir = {x:1, y:0};
            apple = {x: 15, y: 10};
            gameInterval = setInterval(updateSnake, 100);
        }

        function handleSnakeInput(e) {
            if(e.key==='ArrowUp' && snakeDir.y===0) nextSnakeDir={x:0, y:-1};
            if(e.key==='ArrowDown' && snakeDir.y===0) nextSnakeDir={x:0, y:1};
            if(e.key==='ArrowLeft' && snakeDir.x===0) nextSnakeDir={x:-1, y:0};
            if(e.key==='ArrowRight' && snakeDir.x===0) nextSnakeDir={x:1, y:0};
        }

        function updateSnake() {
            snakeDir = nextSnakeDir;
            let head = {x: snake[0].x + snakeDir.x, y: snake[0].y + snakeDir.y};
            if(head.x<0 || head.x>=sCols || head.y<0 || head.y>=sRows || snake.some(p => p.x===head.x && p.y===head.y)) return showGameOver();
            snake.unshift(head);
            if(head.x===apple.x && head.y===apple.y) { score++; updateScore(score); apple = {x: Math.floor(Math.random()*sCols), y: Math.floor(Math.random()*sRows)}; } 
            else snake.pop();

            ctx.fillStyle = "#1a1a1a"; ctx.fillRect(0,0,600,600);
            for(let r=0; r<sRows; r++) for(let c=0; c<sCols; c++) { ctx.fillStyle = (r+c)%2===0 ? "#222" : "#1e1e1e"; ctx.fillRect(c*sGrid, r*sGrid, sGrid, sGrid); }
            ctx.fillStyle="#ff4444"; ctx.beginPath(); ctx.arc(apple.x*sGrid+sGrid/2, apple.y*sGrid+sGrid/2, sGrid/2-2, 0, Math.PI*2); ctx.fill();
            
            snake.forEach((p, i) => {
                ctx.fillStyle = (i === 0) ? "#4674E9" : "#315ecb";
                ctx.fillRect(p.x*sGrid+1, p.y*sGrid+1, sGrid-2, sGrid-2);
                if(i === 0) { // KAFA VE G√ñZLER
                    ctx.fillStyle = "white";
                    let ex1, ey1, ex2, ey2;
                    if(snakeDir.x === 1) { ex1=ex2=p.x*sGrid+18; ey1=p.y*sGrid+6; ey2=p.y*sGrid+18; }
                    else if(snakeDir.x === -1) { ex1=ex2=p.x*sGrid+6; ey1=p.y*sGrid+6; ey2=p.y*sGrid+18; }
                    else if(snakeDir.y === -1) { ey1=ey2=p.y*sGrid+6; ex1=p.x*sGrid+6; ex2=p.x*sGrid+18; }
                    else { ey1=ey2=p.y*sGrid+18; ex1=p.x*sGrid+6; ex2=p.x*sGrid+18; }
                    ctx.beginPath(); ctx.arc(ex1, ey1, 3, 0, Math.PI*2); ctx.arc(ex2, ey2, 3, 0, Math.PI*2); ctx.fill();
                }
            });
        }

        // --- Dƒ∞ƒûER OYUNLAR (BASƒ∞TLE≈ûTƒ∞Rƒ∞LMƒ∞≈û √ñNƒ∞ZLEME) ---
        function initTetris() { canvas.width = 300; canvas.height = 500; ctx.fillStyle="#222"; ctx.fillRect(0,0,300,500); ctx.fillStyle="white"; ctx.fillText("Tetris Y√ºkleniyor...", 100, 250); }
        function initPacman() { canvas.width = 400; canvas.height = 400; ctx.fillStyle="#222"; ctx.fillRect(0,0,400,400); ctx.fillStyle="white"; ctx.fillText("Pacman Y√ºkleniyor...", 150, 200); }

        function openChangelog() { document.getElementById('changelog-modal').style.display = 'flex'; }
        function closeChangelog() { document.getElementById('changelog-modal').style.display = 'none'; }
    </script>
</body>
</html>
