<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AR Deneyimi & Gelişim Logları</title>
    
    <!-- AR ve 3D Kütüphaneleri -->
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <!-- İkonlar -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

    <style>
        /* AR Sahnesi Üzerine Binecek UI Katmanı */
        #ui-layer {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: 10; /* AR kamerasının üstünde durması için */
            pointer-events: none; /* Tıklamaların arka plana geçmesine izin verir */
            font-family: 'Segoe UI', Tahoma, sans-serif;
        }

        #ui-layer * { pointer-events: auto; } /* Butonlar tıklanabilir olsun */

        /* Versiyon Paneli (Sağ Orta) */
        .version-control {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            gap: 10px;
        }

        .ver-badge {
            background: rgba(15, 23, 42, 0.85);
            color: #38bdf8;
            padding: 10px 20px;
            border-radius: 30px;
            border: 1px solid #38bdf8;
            font-weight: bold;
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.5);
        }

        .log-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #2563eb;
            color: white;
            border: none;
            cursor: pointer;
            transition: 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            box-shadow: 0 4px 15px rgba(37, 99, 235, 0.4);
        }

        .log-btn:hover { transform: scale(1.1) rotate(15deg); background: #7c3aed; }

        /* Modal (Günlük Log Tablosu) */
        .modal {
            display: none;
            position: fixed;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            width: 90%; max-width: 600px;
            background: rgba(30, 41, 59, 0.95);
            backdrop-filter: blur(15px);
            padding: 2rem;
            border-radius: 1.5rem;
            border: 1px solid rgba(255,255,255,0.1);
            color: white;
            z-index: 100;
        }

        .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; }
        .close-btn { cursor: pointer; font-size: 1.5rem; color: #94a3b8; }

        table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        th, td { text-align: left; padding: 12px; border-bottom: 1px solid rgba(255,255,255,0.1); font-size: 0.9rem; }
        th { color: #38bdf8; text-transform: uppercase; font-size: 0.75rem; }
        .ver-tag { background: #38bdf8; color: #0f172a; padding: 2px 6px; border-radius: 4px; font-weight: bold; }

        /* AR Talimat Yazısı */
        .ar-instruction {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.6);
            color: white;
            padding: 10px 20px;
            border-radius: 50px;
            font-size: 0.8rem;
            white-space: nowrap;
        }
    </style>
</head>
<body style="margin: 0; overflow: hidden;">

    <!-- UI KATMANI -->
    <div id="ui-layer">
        <!-- Sağdaki Versiyon Paneli -->
        <div class="version-control">
            <div class="ver-badge" id="current-ver">v1.2.0</div>
            <button class="log-btn" onclick="toggleLogs()" title="Günlük Gelişim Logları">
                <i class="fas fa-list-ul"></i>
            </button>
        </div>

        <!-- Alt Bilgi -->
        <div class="ar-instruction">
            <i class="fas fa-camera"></i> Kamerayı 'Hiro' Marker'ına tutun.
        </div>

        <!-- Log Modal -->
        <div id="logModal" class="modal">
            <div class="modal-header">
                <h3><i class="fas fa-history"></i> Günlük Gelişim Logları</h3>
                <span class="close-btn" onclick="toggleLogs()">&times;</span>
            </div>
            <div style="max-height: 400px; overflow-y: auto;">
                <table>
                    <thead>
                        <tr>
                            <th>Tarih</th>
                            <th>Sürüm</th>
                            <th>İşlem / Günlük Log</th>
                        </tr>
                    </thead>
                    <tbody id="log-table-body">
                        <!-- Veriler JS ile buraya gelecek -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- AR SAHNESİ -->
    <a-scene embedded arjs="sourceType: webcam; debugUIEnabled: false;">
        <!-- Hiro Marker -->
        <a-marker preset="hiro">
            <!-- Sanal Küpümüz -->
            <a-box 
                position="0 0.5 0" 
                material="color: #38bdf8; opacity: 0.8; transparent: true;" 
                animation="property: rotation; to: 0 360 0; loop: true; dur: 4000"
                scale="0.8 0.8 0.8">
            </a-box>
            <!-- Küpün üstünde dönen bir halka (estetik için) -->
            <a-torus-knot 
                radius="0.3" radius-tubular="0.02"
                animation="property: rotation; to: 360 0 0; loop: true; dur: 3000"
                material="color: #7c3aed;">
            </a-torus-knot>
        </a-marker>

        <a-entity camera></a-entity>
    </a-scene>

    <script>
        // GÜNLÜK LOG VERİLERİ (Her gün buraya yeni satır ekle)
        const dailyLogs = [
            { date: "01.06.2024", ver: "1.2.0", log: "AR motoru entegre edildi. Sağ panel günlük log sistemi eklendi." },
            { date: "31.05.2024", ver: "1.1.0", log: "Versiyon takip sistemi ve modal arayüzü tasarlandı." },
            { date: "30.05.2024", ver: "1.0.0", log: "Proje başlangıcı. İlk index.html tasarımı yapıldı." }
        ];

        function initLogs() {
            const tableBody = document.getElementById('log-table-body');
            const currentVerBadge = document.getElementById('current-ver');
            
            // En son versiyonu etikete yaz
            currentVerBadge.innerText = "v" + dailyLogs[0].ver;

            dailyLogs.forEach(entry => {
                const row = `<tr>
                    <td>${entry.date}</td>
                    <td><span class="ver-tag">${entry.ver}</span></td>
                    <td>${entry.log}</td>
                </tr>`;
                tableBody.innerHTML += row;
            });
        }

        function toggleLogs() {
            const modal = document.getElementById('logModal');
            modal.style.display = (modal.style.display === "block") ? "none" : "block";
        }

        // Başlat
        initLogs();
    </script>
</body>
</html>
