<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Oyun Portalƒ± v1.9.3</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap');

        :root {
            --primary-yellow: #ffcc00;
            --bg-dark: #121212;
            --card-bg: #1e1e1e;
            --snake-blue: #4674E9;
            --apple-red: #e7471d;
        }

        body {
            margin: 0;
            background-color: var(--bg-dark);
            color: #fff;
            font-family: 'Poppins', sans-serif;
            overflow-x: hidden;
        }

        /* --- HEADER VE NAVBAR --- */
        header {
            width: 100%;
            padding: 15px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #1a1a1a;
            border-bottom: 2px solid #333;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-sizing: border-box;
        }

        .nav-links { display: flex; gap: 25px; }
        .nav-links span { cursor: pointer; color: #aaa; transition: 0.3s; font-weight: 600; }
        .nav-links span:hover, .nav-links span.active { color: var(--primary-yellow); }

        /* --- D√ñNEN RENKLƒ∞ S√úR√úM KUTUSU (v1.6.0 Stilinde) --- */
        .version-container {
            position: relative;
            padding: 4px; /* √áer√ßeve kalƒ±nlƒ±ƒüƒ± */
            border-radius: 25px;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
        }
        .version-container::before {
            content: '';
            position: absolute;
            width: 200%; height: 200%;
            /* ƒ∞stediƒüin o renk paleti: Mor, Ye≈üil, Kƒ±rmƒ±zƒ±, Turuncu */
            background: conic-gradient(#800080, #90EE90, #FF0000, #FFA500, #800080);
            animation: rotate 3s linear infinite;
        }
        @keyframes rotate { 100% { transform: rotate(360deg); } }

        .version-content {
            position: relative;
            background: #000;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 8px;
            z-index: 2;
        }
        .info-icon { background: white; color: black; border-radius: 50%; width: 18px; height: 18px; display: flex; align-items: center; justify-content: center; font-size: 11px; }

        /* --- ANA SAYFA --- */
        #home-screen {
            padding: 80px 20px;
            text-align: center;
            max-width: 800px;
            margin: 0 auto;
        }
        .hero-title { font-size: 50px; margin-bottom: 10px; color: var(--primary-yellow); }
        .hero-info { border: 1px solid #333; padding: 20px; border-radius: 15px; background: #1a1a1a; margin-top: 30px; }

        /* --- OYUN MEN√úS√ú --- */
        #menu-screen { display: none; padding: 50px; text-align: center; }
        .games-grid { display: flex; gap: 30px; justify-content: center; flex-wrap: wrap; margin-top: 40px; }
        .game-card {
            background: var(--card-bg);
            width: 250px;
            padding: 30px;
            border-radius: 20px;
            border: 2px solid transparent;
            cursor: pointer;
            transition: 0.3s;
        }
        .game-card:hover { border-color: var(--primary-yellow); transform: translateY(-10px); }
        .game-card svg { width: 60px; height: 60px; margin-bottom: 15px; }

        /* --- OYUN ALANI VE SKOR TABLOSU --- */
        #game-area { display: none; padding: 20px; justify-content: center; gap: 20px; align-items: flex-start; }
        .game-sidebar {
            background: #1a1a1a;
            padding: 20px;
            border-radius: 15px;
            border: 2px solid #333;
            min-width: 150px;
            text-align: center;
        }
        .score-box { font-size: 24px; color: var(--primary-yellow); font-weight: 800; margin: 10px 0; }
        canvas { background: #000; border: 4px solid #333; border-radius: 10px; box-shadow: 0 0 30px rgba(0,0,0,0.5); }
        .back-btn { background: #444; color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; margin-bottom: 20px; }
        .back-btn:hover { background: #666; }

        /* --- GAME OVER EKRANI --- */
        #game-over {
            position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
            background: rgba(0,0,0,0.95); padding: 40px; border-radius: 20px;
            border: 3px solid var(--primary-yellow); text-align: center; display: none; z-index: 2000;
        }

        /* --- MODAL --- */
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 3000; justify-content: center; align-items: center; }
        .modal-content { background: #222; padding: 30px; border-radius: 15px; width: 400px; max-height: 70vh; overflow-y: auto; }
        table { width: 100%; border-collapse: collapse; margin-top: 15px; }
        table, th, td { border: 1px solid #444; color: #ccc; padding: 10px; text-align: left; font-size: 13px; }
    </style>
</head>
<body>

    <header>
        <div class="logo" style="font-weight: 800; color: #ffcc00; font-size: 20px; cursor: pointer;" onclick="goHome()">üéÆ PORTAL</div>
        <nav class="nav-links">
            <span id="nav-h" class="active" onclick="goHome()">Anasayfa</span>
            <span id="nav-g" onclick="goMenu()">Oyunlar</span>
            <span>Ders Notlarƒ±</span>
            <span>Filmler</span>
        </nav>
        <div class="version-container" onclick="openLogs()">
            <div class="version-content">
                v1.9.3 [SON S√úR√úM] <div class="info-icon">i</div>
            </div>
        </div>
    </header>

    <!-- ANA SAYFA -->
    <div id="home-screen">
        <h1 class="hero-title">Ho≈ü Geldin!</h1>
        <p>Bu proje tamamen benim tarafƒ±mdan geli≈ütirilmi≈ü bir oyun ve i√ßerik portalƒ±dƒ±r.</p>
        <div class="hero-info">
            <h3>Proje Bilgileri</h3>
            <p>Geli≈ütirici: [Senin Adƒ±n]</p>
            <p>Ama√ß: Eƒülence ve eƒüitim materyallerini tek noktada toplamak.</p>
        </div>
        <br>
        <button class="back-btn" style="background:var(--primary-yellow); color:black; font-weight:800;" onclick="goMenu()">HEMEN OYUNA BA≈ûLA</button>
    </div>

    <!-- OYUN MEN√úS√ú -->
    <div id="menu-screen">
        <h2>Oyun Se√ßiniz</h2>
        <div class="games-grid">
            <div class="game-card" onclick="startSnake()">
                <svg viewBox="0 0 24 24" fill="#ffcc00"><path d="M22 12c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10zM7 11h2v2H7v-2zm8 0h2v2h-2v-2z"/></svg>
                <h3>Yƒ±lan Oyunu</h3>
                <p>Klasik yƒ±lan macerasƒ±!</p>
            </div>
            <div class="game-card" onclick="startTetris()">
                <svg viewBox="0 0 24 24" fill="#ffcc00"><path d="M3 3h8v8H3V3zm10 0h8v8h-8V3zM3 13h8v8H3v-8zm10 0h8v8h-8v-8z"/></svg>
                <h3>Tetris</h3>
                <p>Bloklarƒ± diz, satƒ±rlarƒ± erit.</p>
            </div>
            <div class="game-card" onclick="startPacman()">
                <svg viewBox="0 0 24 24" fill="#ffcc00"><path d="M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm3.5 11a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"/></svg>
                <h3>Pac-Man</h3>
                <p>Hayaletlerden ka√ß, yemleri ye.</p>
            </div>
        </div>
    </div>

    <!-- OYUN SAHNESƒ∞ -->
    <div id="game-area">
        <div style="display:flex; flex-direction:column;">
            <button class="back-btn" onclick="goMenu()">‚Üê Men√ºye D√∂n</button>
            <canvas id="gameCanvas"></canvas>
        </div>
        <div class="game-sidebar">
            <div id="game-title" style="font-weight:800; border-bottom:1px solid #333; margin-bottom:10px;">SKOR TABLOSU</div>
            <div id="lives-display" style="color:red; font-weight:bold; display:none;">CAN: 3</div>
            <div class="score-box" id="current-score">0</div>
            <div style="font-size:12px; color:#666;">EN Y√úKSEK: <span id="high-score">0</span></div>
        </div>
    </div>

    <!-- OYUN Bƒ∞TTƒ∞ EKRANI -->
    <div id="game-over">
        <h1 style="color:red; margin:0;">OYUN Bƒ∞TTƒ∞!</h1>
        <h2 id="final-score-text">Skor: 0</h2>
        <button class="back-btn" style="background:var(--primary-yellow); color:black;" onclick="restartActiveGame()">Tekrar Dene</button>
        <button class="back-btn" onclick="goMenu()">Men√ºye D√∂n</button>
    </div>

    <!-- G√úNL√úK MODALI -->
    <div id="log-modal" class="modal">
        <div class="modal-content">
            <h2 style="margin-top:0">G√ºncellemeler</h2>
            <table>
                <tr><th>S√ºr√ºm</th><th>Deƒüi≈üiklikler</th></tr>
                <tr><td>v1.9.3</td><td>Snake duvar √∂l√ºm√º, skor tablosu ve Tetris kontrolleri d√ºzeltildi.</td></tr>
                <tr><td>v1.8.0</td><td>D√∂nen renkli √ßer√ßeve eklendi.</td></tr>
                <tr><td>v1.0.0</td><td>ƒ∞lk yayƒ±n.</td></tr>
            </table>
            <br>
            <button class="back-btn" style="width:100%" onclick="closeLogs()">Kapat</button>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        let gameInterval, score = 0, activeGame = '', isPaused = false;
        let highScore = localStorage.getItem('highScore') || 0;
        document.getElementById('high-score').innerText = highScore;

        // Navigasyon
        function goHome() {
            stopGame();
            document.getElementById('home-screen').style.display = 'block';
            document.getElementById('menu-screen').style.display = 'none';
            document.getElementById('game-area').style.display = 'none';
            setActiveNav('nav-h');
        }
        function goMenu() {
            stopGame();
            document.getElementById('home-screen').style.display = 'none';
            document.getElementById('menu-screen').style.display = 'block';
            document.getElementById('game-area').style.display = 'flex';
            document.getElementById('game-over').style.display = 'none';
            setActiveNav('nav-g');
        }
        function setActiveNav(id) {
            document.querySelectorAll('.nav-links span').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
        }
        function stopGame() { clearInterval(gameInterval); document.onkeydown = null; }
        function updateScore(n) { 
            score = n; document.getElementById('current-score').innerText = score; 
            if(score > highScore) { highScore = score; localStorage.setItem('highScore', highScore); document.getElementById('high-score').innerText = highScore; }
        }
        function gameOver() {
            stopGame();
            document.getElementById('game-over').style.display = 'block';
            document.getElementById('final-score-text').innerText = "Skor: " + score;
        }
        function restartActiveGame() {
            document.getElementById('game-over').style.display = 'none';
            if(activeGame === 'snake') startSnake();
            if(activeGame === 'tetris') startTetris();
            if(activeGame === 'pacman') startPacman();
        }
        function openLogs() { document.getElementById('log-modal').style.display = 'flex'; }
        function closeLogs() { document.getElementById('log-modal').style.display = 'none'; }

        // ================= YILAN OYUNU (SNAKE) =================
        let snake, dir, apple, gridSize = 20, tileCount = 20;
        function startSnake() {
            activeGame = 'snake';
            canvas.width = 400; canvas.height = 400;
            updateScore(0);
            snake = [{x: 10, y: 10}];
            dir = {x: 0, y: 0}; // Ba≈üta hareket etmez, ilk tu≈üla ba≈ülar
            apple = {x: 15, y: 15};
            document.getElementById('lives-display').style.display = 'none';
            document.onkeydown = e => {
                if(e.key === 'ArrowUp' && dir.y === 0) dir = {x: 0, y: -1};
                if(e.key === 'ArrowDown' && dir.y === 0) dir = {x: 0, y: 1};
                if(e.key === 'ArrowLeft' && dir.x === 0) dir = {x: -1, y: 0};
                if(e.key === 'ArrowRight' && dir.x === 0) dir = {x: 1, y: 0};
            };
            gameInterval = setInterval(drawSnake, 100);
        }
        function drawSnake() {
            if(dir.x !== 0 || dir.y !== 0) {
                let head = {x: snake[0].x + dir.x, y: snake[0].y + dir.y};
                // Duvar √ßarpma kontrol√º
                if(head.x < 0 || head.x >= tileCount || head.y < 0 || head.y >= tileCount) return gameOver();
                // Kendine √ßarpma kontrol√º
                if(snake.some(s => s.x === head.x && s.y === head.y)) return gameOver();
                
                snake.unshift(head);
                if(head.x === apple.x && head.y === apple.y) {
                    updateScore(score + 10);
                    apple = {x: Math.floor(Math.random()*tileCount), y: Math.floor(Math.random()*tileCount)};
                } else { snake.pop(); }
            }

            // √áizim
            ctx.fillStyle = "#aad751"; ctx.fillRect(0,0,400,400); // Zemin
            for(let i=0; i<tileCount; i++) for(let j=0; j<tileCount; j++) if((i+j)%2==0){ ctx.fillStyle="#a2d149"; ctx.fillRect(i*gridSize, j*gridSize, gridSize, gridSize); }

            ctx.fillStyle = "red"; ctx.beginPath(); ctx.arc(apple.x*gridSize+10, apple.y*gridSize+10, 8, 0, Math.PI*2); ctx.fill(); // Elma
            
            snake.forEach((s, i) => {
                ctx.fillStyle = i === 0 ? "blue" : "#4674E9";
                ctx.fillRect(s.x*gridSize, s.y*gridSize, gridSize-1, gridSize-1);
                if(i===0) { // G√∂zler
                    ctx.fillStyle="white"; ctx.fillRect(s.x*gridSize+4, s.y*gridSize+4, 4, 4); ctx.fillRect(s.x*gridSize+12, s.y*gridSize+4, 4, 4);
                }
            });
        }

        // ================= TETRƒ∞S OYUNU =================
        let board, piece;
        const T_COLS = 10, T_ROWS = 20, T_SIZE = 25;
        const SHAPES = [
            [[1,1,1,1]], [[1,1],[1,1]], [[0,1,0],[1,1,1]], [[1,1,0],[0,1,1]], [[0,1,1],[1,1,0]]
        ];
        function startTetris() {
            activeGame = 'tetris';
            canvas.width = T_COLS * T_SIZE; canvas.height = T_ROWS * T_SIZE;
            board = Array.from({length: T_ROWS}, () => Array(T_COLS).fill(0));
            updateScore(0);
            newPiece();
            document.onkeydown = e => {
                if(e.key === 'ArrowLeft' && !collide(-1, 0, piece.m)) piece.x--;
                if(e.key === 'ArrowRight' && !collide(1, 0, piece.m)) piece.x++;
                if(e.key === 'ArrowDown') drop();
                if(e.key === 'ArrowUp') rotate();
            };
            gameInterval = setInterval(drop, 500);
        }
        function newPiece() {
            const r = Math.floor(Math.random()*SHAPES.length);
            piece = { x: 3, y: 0, m: SHAPES[r] };
            if(collide(0,0,piece.m)) gameOver();
        }
        function drop() {
            if(!collide(0, 1, piece.m)) piece.y++;
            else { merge(); clearRows(); newPiece(); }
            drawTetris();
        }
        function collide(ox, oy, m) {
            for(let y=0; y<m.length; y++) for(let x=0; x<m[y].length; x++) {
                if(m[y][x]) {
                    let nx = piece.x + x + ox, ny = piece.y + y + oy;
                    if(nx < 0 || nx >= T_COLS || ny >= T_ROWS || (ny >= 0 && board[ny][nx])) return true;
                }
            }
            return false;
        }
        function merge() {
            piece.m.forEach((row, y) => row.forEach((v, x) => {
                if(v) board[piece.y + y][piece.x + x] = 1;
            }));
        }
        function rotate() {
            let m = piece.m[0].map((_, i) => piece.m.map(row => row[i]).reverse());
            if(!collide(0,0,m)) piece.m = m;
        }
        function clearRows() {
            board = board.filter(row => !row.every(v => v));
            while(board.length < T_ROWS) { board.unshift(Array(T_COLS).fill(0)); updateScore(score + 100); }
        }
        function drawTetris() {
            ctx.fillStyle = "#000"; ctx.fillRect(0,0,canvas.width, canvas.height);
            board.forEach((row, y) => row.forEach((v, x) => {
                if(v) { ctx.fillStyle = "cyan"; ctx.fillRect(x*T_SIZE, y*T_SIZE, T_SIZE-1, T_SIZE-1); }
            }));
            piece.m.forEach((row, y) => row.forEach((v, x) => {
                if(v) { ctx.fillStyle = "yellow"; ctx.fillRect((piece.x+x)*T_SIZE, (piece.y+y)*T_SIZE, T_SIZE-1, T_SIZE-1); }
            }));
        }

        // ================= PACMAN (BASƒ∞T) =================
        let px, py, pLives;
        function startPacman() {
            activeGame = 'pacman';
            canvas.width = 400; canvas.height = 400;
            px = 200; py = 200; pLives = 3; updateScore(0);
            document.getElementById('lives-display').style.display = 'block';
            document.getElementById('lives-display').innerText = "CAN: " + pLives;
            document.onkeydown = e => {
                if(e.key === 'ArrowLeft') px -= 10;
                if(e.key === 'ArrowRight') px += 10;
                if(e.key === 'ArrowUp') py -= 10;
                if(e.key === 'ArrowDown') py += 10;
                updateScore(score + 1);
            };
            gameInterval = setInterval(drawPacman, 50);
        }
        function drawPacman() {
            ctx.fillStyle = "black"; ctx.fillRect(0,0,400,400);
            ctx.fillStyle = "yellow"; ctx.beginPath(); ctx.arc(px, py, 15, 0.2 * Math.PI, 1.8 * Math.PI); ctx.lineTo(px, py); ctx.fill();
        }
    </script>
</body>
</html>
