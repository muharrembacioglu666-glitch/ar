<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>Emirhan Portal v2.0.0</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap');

        :root {
            --primary-yellow: #ffcc00;
            --bg-dark: #121212;
            --card-bg: #1e1e1e;
            --accent-blue: #2196F3;
        }

        body {
            margin: 0; background-color: var(--bg-dark); color: #fff;
            font-family: 'Poppins', sans-serif; display: flex; flex-direction: column;
            align-items: center; min-height: 100vh; overflow-x: hidden;
        }

        /* HEADER */
        header {
            width: 100%; padding: 15px 50px; display: flex; justify-content: space-between;
            align-items: center; box-sizing: border-box; background: #1a1a1a;
            border-bottom: 2px solid #333; position: sticky; top: 0; z-index: 100;
        }

        .logo { font-size: 22px; font-weight: 800; color: var(--primary-yellow); cursor: pointer; }

        .nav-links { display: flex; gap: 20px; }
        .nav-links span { cursor: pointer; color: #aaa; transition: 0.3s; font-size: 14px; }
        .nav-links span:hover, .nav-links span.active { color: var(--primary-yellow); }

        /* DÃ–NEN RENKLÄ° SÃœRÃœM Ã‡ERÃ‡EVESÄ° */
        .version-wrapper {
            position: relative; padding: 3px; border-radius: 20px; overflow: hidden; cursor: pointer;
        }
        .version-wrapper::before {
            content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%;
            background: conic-gradient(#ff0000, #ff7f00, #ffff00, #00ff00, #0000ff, #8f00ff, #ff0000);
            animation: rotateBorder 3s linear infinite;
        }
        @keyframes rotateBorder { 100% { transform: rotate(360deg); } }
        
        .version-badge {
            position: relative; background: #000; padding: 4px 12px; border-radius: 18px;
            font-size: 11px; font-weight: bold; color: #fff; display: flex; align-items: center; gap: 5px;
        }

        /* EKRANLAR */
        .screen { display: none; width: 100%; max-width: 1100px; padding: 40px 20px; animation: fadeIn 0.4s; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* ANA SAYFA */
        #home-screen { flex-direction: column; align-items: center; text-align: center; }
        .hero-title { font-size: 50px; margin: 0; color: var(--primary-yellow); }

        /* DERS NOTLARI (AKORDÄ°YON) */
        .notes-list { width: 100%; max-width: 800px; margin: 0 auto; }
        .note-item { background: var(--card-bg); margin-bottom: 10px; border-radius: 8px; overflow: hidden; border: 1px solid #333; }
        .note-btn { width: 100%; padding: 15px; background: none; border: none; color: white; text-align: left; 
                    font-size: 18px; cursor: pointer; display: flex; justify-content: space-between; }
        .note-btn:hover { background: #252525; }
        .note-content { max-height: 0; overflow: hidden; transition: 0.3s ease-out; background: #151515; padding: 0 15px; }
        .note-content.open { max-height: 400px; padding: 15px; border-top: 1px solid #333; }

        /* OYUN MENÃœSÃœ */
        .games-grid { display: flex; gap: 20px; justify-content: center; flex-wrap: wrap; }
        .game-card { background: var(--card-bg); border: 1px solid #333; border-radius: 12px; width: 200px; padding: 25px; 
                     text-align: center; cursor: pointer; transition: 0.3s; }
        .game-card:hover { border-color: var(--primary-yellow); transform: translateY(-5px); }

        /* OYUN ALANI */
        #game-container { flex-direction: column; align-items: center; position: relative; }
        canvas { background: #000; border: 5px solid #333; box-shadow: 0 0 20px rgba(0,0,0,0.5); }
        .game-header { display: flex; justify-content: space-between; width: 600px; margin-bottom: 10px; }
        
        /* OYUN BÄ°TTÄ° EKRANI */
        #game-over-ui {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            background: rgba(0,0,0,0.9); padding: 40px; border-radius: 15px; border: 2px solid red;
            text-align: center; display: none; z-index: 10;
        }

        /* MODAL */
        .modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.8); z-index: 1000; justify-content: center; align-items: center; }
        .modal-box { background: #1a1a1a; padding: 25px; border-radius: 12px; width: 400px; border: 1px solid #444; }
    </style>
</head>
<body>

    <header>
        <div class="logo" onclick="showScreen('home')">EMÄ°RHAN PORTAL</div>
        <div class="nav-links">
            <span id="nav-home" class="active" onclick="showScreen('home')">Anasayfa</span>
            <span id="nav-menu" onclick="showScreen('menu')">Oyunlar</span>
            <span id="nav-notes" onclick="showScreen('notes')">Ders NotlarÄ±</span>
        </div>
        <div class="version-wrapper" onclick="openModal()">
            <div class="version-badge">v2.0.0 [SON SÃœRÃœM] â„¹</div>
        </div>
    </header>

    <!-- ANA SAYFA -->
    <div id="home-screen" class="screen" style="display: flex;">
        <h1 class="hero-title">HoÅŸ Geldin Emirhan!</h1>
        <p style="color:#888;">Bu portal hem eÄŸlenmen hem de Ã¶ÄŸrenmen iÃ§in tasarlandÄ±.</p>
        <button onclick="showScreen('menu')" style="background:var(--primary-yellow); border:none; padding:15px 30px; border-radius:30px; font-weight:bold; cursor:pointer; margin-top:20px;">OYUNLARA GÄ°T</button>
    </div>

    <!-- OYUN MENÃœSÃœ -->
    <div id="menu-screen" class="screen">
        <h2 style="text-align:center;">Oyun SeÃ§imi</h2>
        <div class="games-grid">
            <div class="game-card" onclick="startGame('snake')">ğŸ<h3>YÄ±lan</h3></div>
            <div class="game-card" onclick="startGame('tetris')">ğŸ§±<h3>Tetris</h3></div>
            <div class="game-card" onclick="startGame('pacman')">ğŸŸ¡<h3>Pac-Man</h3></div>
        </div>
    </div>

    <!-- DERS NOTLARI -->
    <div id="notes-screen" class="screen">
        <h2 style="text-align:center;">Lise Ders NotlarÄ±</h2>
        <div class="notes-list">
            <div class="note-item">
                <button class="note-btn" onclick="toggleNote('m1')">Matematik <span>â–¼</span></button>
                <div id="m1" class="note-content"><b>Fonksiyonlar:</b> TanÄ±m kÃ¼mesindeki her elemanÄ±n deÄŸer kÃ¼mesinde yalnÄ±z bir karÅŸÄ±lÄ±ÄŸÄ± olmasÄ±dÄ±r.<br><b>Logaritma:</b> Ãœstel fonksiyonlarÄ±n tersidir.</div>
            </div>
            <div class="note-item">
                <button class="note-btn" onclick="toggleNote('f1')">Fizik <span>â–¼</span></button>
                <div id="f1" class="note-content"><b>Dinamik:</b> F=m.a (Newton'un 2. Hareket YasasÄ±).<br><b>Enerji:</b> Ep = m.g.h (Potansiyel Enerji).</div>
            </div>
            <div class="note-item">
                <button class="note-btn" onclick="toggleNote('k1')">Kimya <span>â–¼</span></button>
                <div id="k1" class="note-content"><b>Periyodik Cetvel:</b> Elementlerin atom numaralarÄ±na gÃ¶re dizildiÄŸi tablodur.<br><b>Mol:</b> 6,022x10^23 tanecik.</div>
            </div>
        </div>
    </div>

    <!-- OYUN ALANI -->
    <div id="game-container" class="screen">
        <div class="game-header">
            <button onclick="showScreen('menu')" style="background:#444; color:white; border:none; padding:8px 15px; cursor:pointer; border-radius:5px;">â† MenÃ¼ye DÃ¶n</button>
            <div id="score-display" style="font-size:20px; font-weight:bold; color:var(--primary-yellow);">SKOR: 0</div>
        </div>
        <div style="position:relative;">
            <canvas id="gameCanvas"></canvas>
            <div id="game-over-ui">
                <h1 style="color:red; margin:0;">OYUN BÄ°TTÄ°!</h1>
                <p id="final-score-text" style="font-size:24px;">Skor: 0</p>
                <button onclick="restartGame()" style="background:var(--primary-yellow); border:none; padding:10px 20px; font-weight:bold; cursor:pointer; border-radius:5px;">TEKRAR DENE</button>
            </div>
        </div>
    </div>

    <!-- GÃœNLÃœK MODAL -->
    <div id="changelog-modal" class="modal">
        <div class="modal-box">
            <h3>SÃ¼rÃ¼m GeÃ§miÅŸi</h3>
            <p><b>v2.0.0:</b> YÄ±lan duvar Ã¶lÃ¼mÃ¼ eklendi. Ders notlarÄ± sistemi kuruldu. IÅŸÄ±klÄ± Ã§erÃ§eve gÃ¼ncellendi.</p>
            <button onclick="closeModal()" style="width:100%; padding:10px; background:red; color:white; border:none; cursor:pointer;">Kapat</button>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const scoreDisplay = document.getElementById('score-display');
        const gameOverUI = document.getElementById('game-over-ui');
        const finalScoreText = document.getElementById('final-score-text');

        let gameLoop, score, activeGame;

        function showScreen(id) {
            stopGame();
            document.querySelectorAll('.screen').forEach(s => s.style.display = 'none');
            document.querySelectorAll('.nav-links span').forEach(n => n.classList.remove('active'));
            const s = document.getElementById(id + '-screen') || document.getElementById(id);
            s.style.display = (id==='home'?'flex':'block');
            if(id==='game-container') s.style.display = 'flex';
            if(document.getElementById('nav-'+id)) document.getElementById('nav-'+id).classList.add('active');
        }

        function toggleNote(id) {
            const content = document.getElementById(id);
            const isOpen = content.classList.contains('open');
            document.querySelectorAll('.note-content').forEach(c => c.classList.remove('open'));
            if(!isOpen) content.classList.add('open');
        }

        function openModal() { document.getElementById('changelog-modal').style.display = 'flex'; }
        function closeModal() { document.getElementById('changelog-modal').style.display = 'none'; }

        function stopGame() { clearInterval(gameLoop); gameOverUI.style.display = 'none'; document.onkeydown = null; }

        function startGame(type) {
            showScreen('game-container');
            activeGame = type;
            score = 0;
            scoreDisplay.innerText = "SKOR: 0";
            if(type === 'snake') initSnake();
            if(type === 'tetris') initTetris();
            if(type === 'pacman') initPacman();
        }

        function restartGame() { startGame(activeGame); }

        function gameOver() {
            clearInterval(gameLoop);
            finalScoreText.innerText = "Skor: " + score;
            gameOverUI.style.display = 'block';
        }

        // ======================== YILAN (SNAKE) ========================
        function initSnake() {
            canvas.width = 600; canvas.height = 600;
            let snake = [{x:10, y:10}, {x:9, y:10}];
            let dir = {x:1, y:0};
            let apple = {x: 15, y: 15};
            
            document.onkeydown = e => {
                if(e.key === 'ArrowUp' && dir.y === 0) dir = {x:0, y:-1};
                if(e.key === 'ArrowDown' && dir.y === 0) dir = {x:0, y:1};
                if(e.key === 'ArrowLeft' && dir.x === 0) dir = {x:-1, y:0};
                if(e.key === 'ArrowRight' && dir.x === 0) dir = {x:1, y:0};
            };

            gameLoop = setInterval(() => {
                let head = {x: snake[0].x + dir.x, y: snake[0].y + dir.y};
                
                // DUVARA Ã‡ARPMA KONTROLÃœ (BURASI DEÄÄ°ÅTÄ°)
                if(head.x < 0 || head.x >= 20 || head.y < 0 || head.y >= 20) return gameOver();
                
                // KENDÄ°NE Ã‡ARPMA KONTROLÃœ
                if(snake.some(s => s.x === head.x && s.y === head.y)) return gameOver();

                snake.unshift(head);
                if(head.x === apple.x && head.y === apple.y) {
                    score += 10;
                    scoreDisplay.innerText = "SKOR: " + score;
                    apple = {x: Math.floor(Math.random()*20), y: Math.floor(Math.random()*20)};
                } else { snake.pop(); }

                ctx.fillStyle = "black"; ctx.fillRect(0,0,600,600);
                // Izgara (Opsiyonel)
                ctx.strokeStyle = "#111";
                for(let i=0; i<600; i+=30) { ctx.strokeRect(i, 0, 30, 600); ctx.strokeRect(0, i, 600, 30); }
                
                ctx.fillStyle = "red"; ctx.fillRect(apple.x*30+2, apple.y*30+2, 26, 26);
                ctx.fillStyle = var(--primary-yellow);
                snake.forEach((p, i) => {
                    ctx.fillStyle = i === 0 ? "#ffcc00" : "#aa8800";
                    ctx.fillRect(p.x*30+1, p.y*30+1, 28, 28);
                });
            }, 100);
        }

        // ======================== TETRIS ========================
        function initTetris() {
            canvas.width = 300; canvas.height = 600;
            const ROWS = 20, COLS = 10, SIZE = 30;
            let board = Array.from({length: ROWS}, () => Array(COLS).fill(0));
            let piece = { matrix: [[1,1,1,1]], x: 3, y: 0 };

            document.onkeydown = e => {
                if(e.key === 'ArrowLeft') { piece.x--; if(tCollide(board, piece)) piece.x++; }
                if(e.key === 'ArrowRight') { piece.x++; if(tCollide(board, piece)) piece.x--; }
                if(e.key === 'ArrowDown') tDrop();
                if(e.key === 'ArrowUp') {
                    const prev = piece.matrix;
                    piece.matrix = piece.matrix[0].map((_, i) => piece.matrix.map(r => r[i]).reverse());
                    if(tCollide(board, piece)) piece.matrix = prev;
                }
            };

            function tDrop() {
                piece.y++;
                if(tCollide(board, piece)) {
                    piece.y--;
                    tLock(board, piece);
                    piece = { matrix: [[1,1],[1,1]], x: 4, y: 0 };
                    if(tCollide(board, piece)) gameOver();
                }
            }

            gameLoop = setInterval(() => { tDrop(); tDraw(board, piece); }, 500);

            function tCollide(b, p) {
                return p.matrix.some((row, dy) => row.some((val, dx) => {
                    let nx = p.x + dx, ny = p.y + dy;
                    return val && (nx < 0 || nx >= COLS || ny >= ROWS || (ny >= 0 && b[ny][nx]));
                }));
            }

            function tLock(b, p) {
                p.matrix.forEach((row, dy) => row.forEach((val, dx) => {
                    if(val) b[p.y + dy][p.x + dx] = 1;
                }));
                score += 100; scoreDisplay.innerText = "SKOR: " + score;
            }

            function tDraw(b, p) {
                ctx.fillStyle = "black"; ctx.fillRect(0,0,300,600);
                b.forEach((row, y) => row.forEach((v, x) => { if(v) { ctx.fillStyle="blue"; ctx.fillRect(x*SIZE, y*SIZE, SIZE-1, SIZE-1); } }));
                p.matrix.forEach((row, dy) => row.forEach((v, dx) => { if(v) { ctx.fillStyle="cyan"; ctx.fillRect((p.x+dx)*SIZE, (p.y+dy)*SIZE, SIZE-1, SIZE-1); } }));
            }
        }

        // ======================== PACMAN ========================
        function initPacman() {
            canvas.width = 400; canvas.height = 400;
            let px = 200, py = 200, lives = 3;
            gameLoop = setInterval(() => {
                ctx.fillStyle="black"; ctx.fillRect(0,0,400,400);
                ctx.fillStyle="yellow"; ctx.beginPath(); ctx.arc(px, py, 15, 0.2*Math.PI, 1.8*Math.PI); ctx.lineTo(px,py); ctx.fill();
                scoreDisplay.innerText = "SKOR: " + score + " | CAN: " + lives;
            }, 100);
        }

    </script>
</body>
</html>
